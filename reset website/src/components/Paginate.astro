---
const { prev, next, currentPage,lastPage} = Astro.props;

---

<nav class="pagination">
  <!-- 前Pが存在する場合、前へリンクを表示 -->
  {
    prev ? (
      <a href={prev}>
        <div class="forward arrow">
          前へ
          </div>
          </a>
          ) : (
          <div class="forward" />
            )
          }

<ul>
    <!--前々頁が存在する場合は 先頭の頁と...を表示-->
    {
      currentPage > 2 ? (
        <li>
          <a href="/blogs/1">1</a>
        </li>
        <li class="dot">...</li>
      ) : (
        <li />
        <li />
      )
    }

    <!-- 前頁が存在する場合、前頁Noを表示 -->
    {
      prev ? (
        <li>
          <a href={prev}>{currentPage - 1}</a>
        </li>
      ) : (
        <li />
      )
    }

    <!-- 現在の頁 -->
    <li class="currentPage">{currentPage}</li>

    <!-- 次頁が存在する場合、次頁Noを表示 -->
    {
      next ? (
        <li>
          <a href={next}>{currentPage + 1}</a>
        </li>
      ) : (
        <li />
      )
    }

    <!--次々頁が存在する場合は 最後の頁と...を表示-->
    {
      currentPage + 1 < lastPage ? (
        <li  class="dot">...</li>
        <li class="pNumber">
          <a href={lastPage}>{lastPage}</a>
        </li>
      ) : (
        <li />
        <li />
      )
    }

    <!-- 次頁が存在する場合、次へリンクを表示 -->
    </ul>
    {
      next ? (
        <a href={next}>
        <div class="next arrow">
          次へ
        </div>
      </a>
      ) : (
        <div class="next" />
      )
    }
</nav>

<style>
  .pagination {
    display: flex;
    justify-content: space-evenly;
    padding-inline: 1.6rem;
  }

  .pagination ul {
    padding: 0;
    list-style: none;
    display: flex;
    flex-direction: row;
    justify-content: center;
  }

  .pagination li {
    text-align: center;
    /* padding: 0.3rem .4rem; */
    display: inline-block;
    width: 3rem;
  }

  .pagination .forward,
  .pagination .next {
    padding-inline: .8rem;
    width: 4.8rem;
    font-size: 1.6rem;
  }

  a {
    cursor: pointer;
    display: inline-block;
    text-decoration: none;
    color: var(--textBlack);
  }

  ul {
    /* width: 210px; */
    text-align: center;
  }

  .pagination a:hover {
    color: var(--attention);
  }
  .currentPage {
    box-sizing: border-box;
    color: var(--attention);
    border: 2px solid var(--attention);
    border-radius: 0.8rem;
    font-weight: bold;
    margin-top: -4px;
    padding-block: 2px;
  }

  .dot {
    color: var(--textGray);
  }
  .forward.arrow::before {
    transform: translateY(-10%) rotate(135deg);
    content: "";
    display: inline-block;
    width: 8px;
    height: 8px;
    border-bottom: 2px solid var(--attention);
    border-right: 2px solid var(--attention);
  }

  .next.arrow::after {
    transform: translateY(-10%) rotate(315deg);
    content: "";
    display: inline-block;
    width: 8px;
    height: 8px;
    border-bottom: 2px solid var(--attention);
    border-right: 2px solid var(--attention);
  }
</style>
